(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{441:function(t,e,r){var content=r(500);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(3).default)("23d785d8",content,!0,{sourceMap:!1})},498:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAAAECAYAAACeNca/AAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAEsKADAAQAAAABAAAABAAAAAAdekyeAAABbUlEQVR4Ae2asW3DMBBFSWqGACkzRHprgyCbZASPEHiRjJC4TlYIkD4zWIyPd8WXzcZKw+KpkSCIBPHw+HWimNP5eHj5nae6vNv1pqPW4/fhfr5sW98e51TK9n5TPeanz6t+Ga+Thq9zwAd8cAL4oBzIB3zAB+qHRH0W04B6soHAB3xYvRj4fnMc5AP5sJoYrD8YjoHfF8XGNy2nvZ23Hqcy7bttS+7f7z7cubnUbnvGG6zg20DgAz4EAXxQEOQDPuCDEsAHpUE+4AM+KAF8UBrkAz7ggxLAB6UxQD4U272Sct7puG66Pq/O/bzefVy2aX//0z/6td1Xz19X/TJeJw1f54AP+OAE8EE5kA/4gA/UD/b3lPrMZgL1ZMsDfIhYxAd8CBUcBN+bxoF8CCnIB58WY9cPhd0r4esAq4kxktWJ3W2Bg914DQQ+4IMGBD7gAz4oAXxQGuQDPuCDEsAHpUE+4AM+KAF8UBqj58MfRyl5tp+pqv4AAAAASUVORK5CYII="},499:function(t,e,r){"use strict";var o=r(441);r.n(o).a},500:function(t,e,r){(e=r(2)(!1)).push([t.i,".input-item[data-v-6ada7d7a]{margin-bottom:20px}.text-wrapper[data-v-6ada7d7a]{position:relative;height:40px;line-height:40px;border:1px solid #dcdfe6;padding:0 15px;box-sizing:border-box;border-radius:4px;color:#cfcfcf}.text-wrapper .select-wrapper[data-v-6ada7d7a]{z-index:10;position:absolute;left:0;top:45px;width:100%;padding:0 15px;background:#fff;border:1px solid #e93323;border-radius:4px;line-height:2}.text-wrapper .select-wrapper .title-box[data-v-6ada7d7a]{height:40px;line-height:40px;border-bottom:1px solid #efefef;color:#e93323;font-size:14px}.text-wrapper .select-wrapper .title-box span[data-v-6ada7d7a]{margin-right:8px;color:#666}.text-wrapper .select-wrapper .label-txt[data-v-6ada7d7a]{margin:8px 0 18px;color:#666;font-size:14px}.text-wrapper .select-wrapper .label-txt span[data-v-6ada7d7a]{margin-right:10px;cursor:pointer}.text-wrapper .select-wrapper .label-txt span.on[data-v-6ada7d7a]{color:#e93323}.order_confirm .header[data-v-6ada7d7a]{height:60px;line-height:60px;color:#999}.order_confirm .header .home[data-v-6ada7d7a]{color:#282828}.order_confirm .address[data-v-6ada7d7a]{background-color:#fff}.order_confirm .address .title[data-v-6ada7d7a]{height:64px;font-size:18px;padding:0 28px;line-height:64px}.order_confirm .address .lines[data-v-6ada7d7a]{width:100%;height:4px}.order_confirm .address .lines img[data-v-6ada7d7a]{width:100%;height:100%}.order_confirm .address .list[data-v-6ada7d7a]{padding:0 25px 26px;height:217px;overflow:hidden}.order_confirm .address .list.on[data-v-6ada7d7a]{height:auto}.order_confirm .address .list .item[data-v-6ada7d7a]{width:250px;height:170px;border:1px solid #eaeaea;padding:22px 27px;overflow:hidden;margin:30px 0 0 30px;position:relative;cursor:pointer}.order_confirm .address .list .item.on[data-v-6ada7d7a]{border-color:#e93323}.order_confirm .address .list .item .icon-xuanzhong4[data-v-6ada7d7a]{position:absolute;right:-4px;bottom:-4px;font-size:27px}.order_confirm .address .list .item .default[data-v-6ada7d7a]{position:absolute;width:56px;height:23px;font-size:12px;color:#fff;text-align:center;line-height:23px;top:0;right:0}.order_confirm .address .list .item.add[data-v-6ada7d7a]{text-align:center}.order_confirm .address .list .item.add .iconfont[data-v-6ada7d7a]{font-size:35px;color:#bfbfbf;margin-top:25px}.order_confirm .address .list .item.add .tip[data-v-6ada7d7a]{color:#c8c8c8;margin-top:8px}.order_confirm .address .list .item .name[data-v-6ada7d7a]{font-size:16px}.order_confirm .address .list .item .phone[data-v-6ada7d7a]{margin-top:9px}.order_confirm .address .list .item .details[data-v-6ada7d7a]{color:#999;margin-top:4px}.order_confirm .isShow[data-v-6ada7d7a]{width:100%;height:46px;line-height:46px;text-align:center;color:#707070;cursor:pointer}.order_confirm .isShow .iconfont[data-v-6ada7d7a]{margin-left:8px;font-size:12px}.order_confirm .wrapper[data-v-6ada7d7a]{background-color:#fff;padding-bottom:56px}.order_confirm .wrapper .title[data-v-6ada7d7a]{height:64px;line-height:64px;padding:0 28px;font-size:18px}.order_confirm .wrapper .order[data-v-6ada7d7a]{width:1160px;margin:0 auto;border:1px solid #efefef;padding:26px 32px}.order_confirm .wrapper .order .list .item[data-v-6ada7d7a]{margin-bottom:26px}.order_confirm .wrapper .order .list .item .txtPic .pictrue[data-v-6ada7d7a]{width:62px;height:62px}.order_confirm .wrapper .order .list .item .txtPic .pictrue img[data-v-6ada7d7a]{width:100%;height:100%}.order_confirm .wrapper .order .list .item .txtPic .text[data-v-6ada7d7a]{width:342px;margin-left:10px}.order_confirm .wrapper .order .list .item .txtPic .text .name[data-v-6ada7d7a]{width:100%;height:38px}.order_confirm .wrapper .order .list .item .txtPic .text .info[data-v-6ada7d7a]{margin-top:4px;color:#919191}.order_confirm .wrapper .order .list .item .font-color[data-v-6ada7d7a]{font-size:16px;font-weight:700;display:inline-block;width:130px;text-align:right}.order_confirm .wrapper .order .list .item .money[data-v-6ada7d7a]{font-size:16px}.order_confirm .wrapper .order .list .item .num[data-v-6ada7d7a]{margin-left:6px}.order_confirm .wrapper .order .coupon[data-v-6ada7d7a]{border-top:1px solid #efefef}.order_confirm .wrapper .order .coupon .couponTitle[data-v-6ada7d7a]{font-size:18px;margin:20px 0}.order_confirm .wrapper .order .coupon .couponTitle .couponPrice[data-v-6ada7d7a]{font-size:16px;font-weight:700}.order_confirm .wrapper .order .coupon .couponTitle .couponPriceNo[data-v-6ada7d7a]{font-size:14px}.order_confirm .wrapper .order .coupon .couponList .item[data-v-6ada7d7a]{height:40px;width:176px;border:1px solid #e93323;margin:0 15px 15px 0;position:relative;cursor:pointer}.order_confirm .wrapper .order .coupon .couponList .item.grey[data-v-6ada7d7a]{border-color:#b4b4b4}.order_confirm .wrapper .order .coupon .couponList .item .iconfont[data-v-6ada7d7a]{position:absolute;right:-3px;bottom:-3px;font-size:20px}.order_confirm .wrapper .order .coupon .couponList .item .name[data-v-6ada7d7a]{width:70px;height:100%;color:#fff;text-align:center;line-height:40px;background-color:#e93323}.order_confirm .wrapper .order .coupon .couponList .item .name.grey[data-v-6ada7d7a]{background-color:#b4b4b4}.order_confirm .wrapper .order .coupon .couponList .item .money[data-v-6ada7d7a]{width:103px;text-align:center;color:#e93323}.order_confirm .wrapper .order .coupon .couponList .item .money.grey[data-v-6ada7d7a]{color:#b4b4b4}.order_confirm .wrapper .order .coupon .couponList .item.svip[data-v-6ada7d7a]{border-color:#333}.order_confirm .wrapper .order .coupon .couponList .item.svip .name[data-v-6ada7d7a]{background-color:#333;color:#fdd7b4}.order_confirm .wrapper .order .coupon .couponList .item.svip .money[data-v-6ada7d7a]{color:#333}.order_confirm .wrapper .order .coupon .integralCurrent[data-v-6ada7d7a]{margin-left:33px}.order_confirm .wrapper .order .coupon .integralCurrent .num[data-v-6ada7d7a]{margin-left:6px}.order_confirm .wrapper .order .coupon .msgTitle[data-v-6ada7d7a]{font-size:18px}.order_confirm .wrapper .order .message[data-v-6ada7d7a]{padding-top:26px;margin-top:26px}.order_confirm .wrapper .order .message .confirmtit[data-v-6ada7d7a]{width:90px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.order_confirm .wrapper .order .message[data-v-6ada7d7a] .el-input__inner{border:1px solid #f7f7f7}.order_confirm .wrapper .order .message .selet[data-v-6ada7d7a]{width:820px}.order_confirm .wrapper .order .message .confirm[data-v-6ada7d7a]{margin-left:26px;font-size:22rpx}.order_confirm .wrapper .order .message .confirm input[data-v-6ada7d7a]{width:820px;padding:12px 14px;border:1px solid #f7f7f7}.order_confirm .wrapper .order .message .textarea[data-v-6ada7d7a]{width:820px;height:120px;background-color:#f7f7f7;border:0;outline:none;resize:none;padding:12px 14px;margin-left:60px}.order_confirm .wrapper .order .integral[data-v-6ada7d7a]{padding:26px 0}.order_confirm .wrapper .totalCon[data-v-6ada7d7a]{padding:27px 46px}.order_confirm .wrapper .totalCon .total~.total[data-v-6ada7d7a]{margin-top:12px}.order_confirm .wrapper .totalCon .total .money[data-v-6ada7d7a]{width:120px;text-align:right;font-size:16px}.order_confirm .wrapper .totalAmount[data-v-6ada7d7a]{width:1160px;height:70px;line-height:70px;background:#f7f7f7;text-align:right;padding-right:22px;margin:0 auto}.order_confirm .wrapper .totalAmount .money[data-v-6ada7d7a]{font-size:20px;font-weight:700;margin-left:4px;width:120px;display:inline-block}.order_confirm .wrapper .bnt[data-v-6ada7d7a]{margin:38px 20px 0 0;cursor:pointer}.order_confirm .wrapper .bnt .submit[data-v-6ada7d7a]{width:180px;height:46px;border-radius:4px;font-size:16px;color:#fff;text-align:center;line-height:46px}.order_confirm .bg-color-hui[data-v-6ada7d7a]{background-color:#bbb}.order_confirm .op[data-v-6ada7d7a]{opacity:.5}",""]),t.exports=e},573:function(t,e,r){"use strict";r.r(e);var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lines"},[e("img",{attrs:{src:r(498)}})])}],n=(r(109),r(39),r(63),r(26),r(221),r(6),r(107)),d=r.n(n),c=(r(21),r(57)),l=(r(25),r(10),r(49),r(27)),v=(r(38),r(4)),m=r(62);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var h={name:"order_confirm",auth:"guest",data:function(){return{upLoadUrl:m.a.apiBaseURL+"/upload/image",myHeaders:{},pics:[],dialogVisible:!1,isShowSelect:!1,formData:{name:"",phone:"",con:"",checked:!1},cityData:{pid:0,step:1,list:[],con:"",province:{},city:{},district:{}},addressList:[],current:0,news:1,cartInfo:[],confirm:[],couponList:[],couponCurrent:-1,couponUser:!1,couponPrice:0,userInfo:{},deduction:!1,orderKey:"",addressId:0,useIntegral:!1,couponId:0,computeData:{},mark:"",totalNmu:0,priceGroup:{},totalPrice:0,seckillId:0,isShow:!1,freight:0,virtual_type:0,validCount:0}},watch:{couponCurrent:function(t){this.couponUser=!0,this.couponPrice=this.couponList[t].coupon_price,this.couponId=this.couponList[t].id,this.computedPrice()},useIntegral:function(){this.computedPrice()}},asyncData:function(t){return Object(v.a)(regeneratorRuntime.mark((function e(){var r,o,n,d,c,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.app,o=t.query,e.next=3,Promise.all([r.$axios.get("/address/list",{page:1,limit:50}),r.$axios.post("/order/confirm",{cartId:o.cartId,new:o.new?1:0}),r.$axios.get("/coupons/order/0",{params:{cartId:o.cartId,new:o.new?1:0}})]);case 3:return n=e.sent,d=Object(l.a)(n,3),c=d[0],v=d[1],m=d[2],v.data.custom_form.map((function(t){"img"===t.label&&(t.value=[])})),e.abrupt("return",{addressList:c.data,cartId:o.cartId,cartInfo:v.data.cartInfo,confirm:v.data.custom_form||[],userInfo:v.data.userInfo,deduction:v.data.deduction,virtual_type:v.data.virtual_type,orderKey:v.data.orderKey,priceGroup:v.data.priceGroup,totalPrice:v.data.priceGroup.totalPrice,seckillId:v.data.seckill_id,couponList:m.data,freight:v.data.priceGroup.storePostage,news:o.new?1:0,validCount:v.data.valid_count});case 10:case"end":return e.stop()}}),e)})))()},fetch:function(t){var e=t.store;e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"确认订单-"+this.$store.state.titleCon}},created:function(){var t=this,e=0;t.cartInfo.forEach((function(t,r){e+=t.cart_num})),t.totalNmu=e,t.addressList.forEach((function(e,r){e.is_default?(t.addressId=e.id,t.current=r):(t.addressId=t.addressList[0].id,t.current=0)}));var r=this.$cookies.get("auth.strategy");this.myHeaders={Authorization:this.$cookies.get("auth._token.".concat(r))},this.computedPrice()},mounted:function(){var t=this,e=t.cartInfo.map((function(e,r){return e.productInfo.attrInfo?e.priceCon=t.comsys.Mul(e.productInfo.attrInfo.price,e.cart_num):e.priceCon=t.comsys.Mul(e.productInfo.price,e.cart_num),function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},e)}));this.cartInfo=e},methods:{handleSuccess:function(t,i,e){console.log(t,i,e),200===t.status?e.value.push(t.data.url):400===t.status&&this.$message.error(t.msg)},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;return e||this.$message.error("上传图片只能是 JPG、PNG 格式!"),e},handleRemove:function(t,e,r){console.log(t,e,r),r.value=[],e.forEach((function(i){r.value.push(i.response.data.url)}))},handleExceed:function(){this.$message.warning("最多上传8张图片")},formReset:function(){this.formData.name="",this.formData.phone="",this.formData.con="",this.formData.checked=!1,this.cityData.province={},this.cityData.city={},this.cityData.district={},this.cityData.step=1,this.cityData.pid=0},handleClose:function(){this.formReset(),this.dialogVisible=!1},getList:function(){var t=this;this.$axios.get("address/list").then((function(e){t.addressList=e.data,t.addressId=e.data[0].id,t.computedPrice()}))},bindAdd:function(){this.isShowSelect=!this.isShowSelect,3!=this.cityData.step&&(this.cityData.city={},this.cityData.district={},this.getCityList())},getCityList:function(){var t=this;this.$axios.get("pc/get_city/".concat(this.cityData.pid)).then((function(e){t.cityData.list=e.data}))},addAddress:function(){this.dialogVisible=!0},bindCity:function(t){3==this.cityData.step?(this.cityData.district=t,this.cityData.pid=t.city_id,this.isShowSelect=!1):(1==this.cityData.step&&(this.cityData.province=t),2==this.cityData.step&&(this.cityData.city=t),this.cityData.pid=t.city_id,this.cityData.step++,this.getCityList())},bindSubmit:function(){var t=this;return this.formData.name?this.formData.phone&&/^1(3|4|5|7|8|9|6)\d{9}$/i.test(this.formData.phone)?this.cityData.province.name?this.formData.con?void this.$axios.post("address/edit",{address:{province:this.cityData.province.name,city:this.cityData.city.name,district:this.cityData.district.name,city_id:this.cityData.city.city_id},is_default:this.formData.checked?1:0,real_name:this.formData.name,phone:this.formData.phone,detail:this.formData.con,id:this.editId}).then((function(e){return t.addressId=e.data.id,t.dialogVisible=!1,t.getList(),t.formReset(),d.a.success("添加成功")})).catch((function(t){return d.a.error(t)})):d.a.error("请填写详细地址"):d.a.error("请选择省市区"):d.a.error("请填写正确的手机号码"):d.a.error("请填写姓名")},SubOrder:function(){var t=this;if(!t.addressId&&!t.virtual_type)return d.a.error("请添加收货地址");for(var i=0;i<t.confirm.length;i++)if(t.confirm[i].status&&""==t.confirm[i].value)return d.a.error("请填写"+t.confirm[i].title);var data={custom_form:t.confirm,addressId:t.addressId,formId:"",couponId:t.couponId,useIntegral:t.useIntegral,seckill_id:t.seckillId,mark:t.mark,from:"pc",new:t.news};t.$axios.post("/order/create/"+t.orderKey,data).then((function(e){t.totalPrice<=0?t.goPay(e.data.result.orderId):t.$router.replace({path:"/payment",query:{result:e.data.result.orderId}})})).catch((function(t){return d.a.error(t)}))},goPay:function(t){var e=this;e.$axios.post("/order/pay",{uni:t,paytype:"yue",from:"pc"}).then((function(r){d.a.success(r.msg),e.$store.commit("cartNum",0),e.getOrderCoupon(t),setTimeout((function(){e.$router.push({path:"/order_detail",query:{orderId:t}})}),1e3)})).catch((function(t){d.a.error(t.msg)}))},getOrderCoupon:function(t){this.$axios.post("/v2/order/product_coupon/"+t).then((function(t){}))},computedPrice:function(){var t=this;this.$axios.post("/order/computed/"+this.orderKey,{addressId:this.addressId,useIntegral:this.useIntegral?1:0,couponId:this.couponId}).then((function(e){t.computeData=e.data.result,t.totalPrice=e.data.result.pay_price,t.freight=e.data.result.pay_postage})).catch((function(t){d.a.error(t)}))},getCouponUser:function(t){this.couponCurrent=t,this.couponUser=!this.couponUser,this.couponCurrent===t&&this.couponUser?(this.couponPrice=this.couponList[t].coupon_price,this.couponId=this.couponList[t].id):(this.couponPrice=0,this.couponId=0),this.computedPrice()},tapCurrent:function(t,e){this.current=t,this.addressId=e.id,this.computedPrice()},open:function(){this.isShow=!0},close:function(){this.isShow=!1}}},_=(r(499),r(13)),component=Object(_.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order_confirm wrapper_1200"},[r("div",{staticClass:"header"},[r("span",{staticClass:"home"},[t._v("首页 > "),t.news?t._e():r("span",[t._v("购物车 > ")])]),t._v("提交订单\n  ")]),t._v(" "),t.virtual_type?t._e():r("div",{staticClass:"address"},[r("div",{staticClass:"title"},[t._v("收货地址")]),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"list acea-row row-middle",class:t.isShow?"on":""},[t._l(t.addressList,(function(e,o){return r("div",{key:o,staticClass:"item",class:t.current===o?"on":"",on:{click:function(r){return t.tapCurrent(o,e)}}},[e.is_default?r("div",{staticClass:"default bg-color"},[t._v("默认")]):t._e(),t._v(" "),r("div",{staticClass:"name line1"},[t._v(t._s(e.real_name))]),t._v(" "),r("div",{staticClass:"phone"},[t._v(t._s(e.phone))]),t._v(" "),r("div",{staticClass:"details line4"},[t._v("\n          "+t._s(e.province)+t._s(e.city)+t._s(e.district)+t._s(e.detail)+"\n        ")]),t._v(" "),t.current===o?r("div",{staticClass:"iconfont icon-xuanzhong4 font-color"}):t._e()])})),t._v(" "),r("div",{staticClass:"item add",on:{click:t.addAddress}},[r("div",{staticClass:"iconfont icon-dizhi-tianjia"}),t._v(" "),r("div",{staticClass:"tip"},[t._v("添加新地址")])])],2)]),t._v(" "),!t.isShow&&t.addressList.length>3?r("div",{staticClass:"isShow",on:{click:t.open}},[t._v("\n    显示更多收货地址"),r("span",{staticClass:"iconfont icon-xiangxia"})]):t._e(),t._v(" "),t.addressList.length<=3?r("div",{staticStyle:{"margin-top":"10px"}}):t._e(),t._v(" "),t.isShow&&t.addressList.length>3?r("div",{staticClass:"isShow",on:{click:t.close}},[t._v("\n    隐藏更多收货地址"),r("span",{staticClass:"iconfont icon-xiangshang"})]):t._e(),t._v(" "),r("div",{staticClass:"wrapper wrapper_1200"},[r("div",{staticClass:"title"},[t._v("订单信息")]),t._v(" "),r("div",{staticClass:"order"},[r("div",{staticClass:"list"},t._l(t.cartInfo,(function(e,o){return r("div",{key:o,staticClass:"item acea-row row-between-wrapper",class:e.is_valid?"":"op"},[r("div",{staticClass:"txtPic acea-row row-middle"},[r("div",{staticClass:"pictrue"},[e.productInfo.attrInfo?r("img",{attrs:{src:e.productInfo.attrInfo.image}}):r("img",{attrs:{src:e.productInfo.image}})]),t._v(" "),r("div",{staticClass:"text"},[r("div",{staticClass:"name line2"},[t._v(t._s(e.productInfo.store_name))]),t._v(" "),e.productInfo.attrInfo?r("div",{staticClass:"info"},[t._v("\n                "+t._s(e.productInfo.attrInfo.suk)+"\n              ")]):r("div",{staticClass:"info"},[t._v("默认")])])]),t._v(" "),r("div",[e.productInfo.attrInfo?r("span",{staticClass:"money"},[t._v("¥"+t._s(e.productInfo.attrInfo.price))]):r("span",{staticClass:"money"},[t._v(t._s(e.productInfo.price))]),t._v(" "),r("span",{staticClass:"num"},[t._v("x"+t._s(e.cart_num))]),t._v(" "),e.is_valid?r("span",{staticClass:"font-color"},[t._v(t._s(e.priceCon))]):r("span",{staticClass:"font-color"},[t._v("不送达")])])])})),0),t._v(" "),t.deduction?t._e():r("div",{staticClass:"coupon"},[r("div",{staticClass:"couponTitle acea-row row-between-wrapper"},[r("div",[t._v("使用优惠券")]),t._v(" "),t.couponList.length?r("div",{staticClass:"couponPrice font-color"},[t._v("\n            -¥"+t._s(t.couponPrice)+"\n          ")]):r("div",{staticClass:"couponPriceNo font-color"},[t._v("无可使用优惠券")])]),t._v(" "),r("div",{staticClass:"couponList acea-row row-middle"},t._l(t.couponList,(function(e,o){return r("div",{key:o,staticClass:"item acea-row row-middle",class:4===e.receive_type?"svip":"",on:{click:function(r){return t.getCouponUser(o,e)}}},[0===e.type?r("div",{staticClass:"name"},[t._v("通用券")]):1===e.type?r("div",{staticClass:"name"},[t._v("品类券")]):r("div",{staticClass:"name"},[t._v("商品券")]),t._v(" "),r("div",{staticClass:"money"},[t._v("\n              满"+t._s(e.use_min_price)+"减"+t._s(e.coupon_price)+"\n            ")]),t._v(" "),t.couponCurrent===o&&t.couponUser?r("div",{staticClass:"iconfont icon-xuanzhong4",class:4===e.receive_type?"":"font-color"}):t._e()])})),0)]),t._v(" "),t.deduction?t._e():r("div",{staticClass:"coupon"},[r("div",{staticClass:"couponTitle acea-row row-between-wrapper"},[r("div",[t._v("积分抵扣")]),t._v(" "),parseFloat(t.userInfo.integral)?r("div",{staticClass:"couponPrice font-color"},[t._v("\n            -¥"+t._s(t.computeData.deduction_price||0)+"\n          ")]):r("div",{staticClass:"couponPriceNo font-color"},[t._v("无可使用积分")])]),t._v(" "),parseFloat(t.userInfo.integral)?r("div",{staticClass:"acea-row row-middle"},[r("div",{staticClass:"checkbox-wrapper"},[r("label",{staticClass:"well-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.useIntegral,expression:"useIntegral"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.useIntegral)?t._i(t.useIntegral,null)>-1:t.useIntegral},on:{change:function(e){var r=t.useIntegral,o=e.target,n=!!o.checked;if(Array.isArray(r)){var d=t._i(r,null);o.checked?d<0&&(t.useIntegral=r.concat([null])):d>-1&&(t.useIntegral=r.slice(0,d).concat(r.slice(d+1)))}else t.useIntegral=n}}}),t._v(" "),r("i",{staticClass:"icon"})])]),t._v(" "),r("div",{staticClass:"integralCurrent"},[t._v("\n            当前积分"),r("span",{staticClass:"num font-color"},[t._v(t._s(t.useIntegral?t.computeData.SurplusIntegral:t.userInfo.integral))])])]):t._e()]),t._v(" "),t.confirm.length?r("div",t._l(t.confirm,(function(e,o){return r("div",{key:o,staticClass:"coupon message acea-row"},[r("div",{staticClass:"msgTitle"},[e.status?r("span",{staticStyle:{color:"red"}},[t._v("*")]):r("span",{staticStyle:{marginleft:"15px"}}),t._v(" "),r("span",{staticClass:"confirmtit"},[t._v(t._s(e.title))])]),t._v(" "),"text"==e.label?r("div",{staticClass:"confirm"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:"text",placeholder:"请填写"+e.title},domProps:{value:e.value},on:{input:function(r){r.target.composing||t.$set(e,"value",r.target.value)}}})]):t._e(),t._v(" "),"number"==e.label?r("div",{staticClass:"confirm"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:"number",placeholder:"请填写"+e.title},domProps:{value:e.value},on:{input:function(r){r.target.composing||t.$set(e,"value",r.target.value)}}})]):t._e(),t._v(" "),"email"==e.label?r("div",{staticClass:"confirm"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:"text",placeholder:"请填写"+e.title},domProps:{value:e.value},on:{input:function(r){r.target.composing||t.$set(e,"value",r.target.value)}}})]):t._e(),t._v(" "),"data"==e.label?r("div",[r("el-date-picker",{staticClass:"confirm selet",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.value,callback:function(r){t.$set(e,"value",r)},expression:"item.value"}})],1):t._e(),t._v(" "),"time"==e.label?r("div",[r("el-time-select",{staticClass:"confirm selet",attrs:{"picker-options":{start:"00:00",step:"00:01",end:"23:59"},placeholder:"选择时间"},model:{value:e.value,callback:function(r){t.$set(e,"value",r)},expression:"item.value"}})],1):t._e(),t._v(" "),"id"==e.label?r("div",{staticClass:"confirm"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:"idcard",placeholder:"请填写"+e.title},domProps:{value:e.value},on:{input:function(r){r.target.composing||t.$set(e,"value",r.target.value)}}})]):t._e(),t._v(" "),"phone"==e.label?r("div",{staticClass:"confirm"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:"tel",placeholder:"请填写"+e.title},domProps:{value:e.value},on:{input:function(r){r.target.composing||t.$set(e,"value",r.target.value)}}})]):t._e(),t._v(" "),"img"==e.label?r("div",[r("el-upload",{staticClass:"confirm selet",attrs:{"list-type":"picture-card",action:t.upLoadUrl,headers:t.myHeaders,limit:8,"on-remove":function(i,b){t.handleRemove(i,b,e)},"on-success":function(i,b){t.handleSuccess(i,b,e)},"on-exceed":t.handleExceed,"before-upload":t.beforeUpload}},[r("i",{staticClass:"el-icon-plus"})])],1):t._e()])})),0):t._e(),t._v(" "),r("div",{staticClass:"coupon message acea-row"},[r("div",{staticClass:"msgTitle"},[t._v("买家留言")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.mark,expression:"mark"}],staticClass:"textarea",attrs:{placeholder:"填写内容与商家协商并确认，限150字内~",maxlength:"150"},domProps:{value:t.mark},on:{input:function(e){e.target.composing||(t.mark=e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"totalCon"},[r("div",{staticClass:"total acea-row row-middle row-right"},[r("div",[r("span",{staticClass:"font-color"},[t._v(t._s(t.totalNmu)+" ")]),t._v("件商品，总商品金额：\n        ")]),t._v(" "),r("div",{staticClass:"money"},[t._v("\n          ¥"+t._s((parseFloat(t.priceGroup.totalPrice)+parseFloat(t.priceGroup.vipPrice)).toFixed(2)||0)+"\n        ")])]),t._v(" "),r("div",{staticClass:"total acea-row row-middle row-right"},[r("div",[t._v("运费：")]),t._v(" "),r("div",{staticClass:"money"},[t._v("¥"+t._s(t.freight||0))])]),t._v(" "),t.priceGroup.storePostageDiscount?r("div",{staticClass:"total acea-row row-middle row-right"},[r("div",[t._v("运费折扣：")]),t._v(" "),r("div",{staticClass:"money"},[t._v("- ¥"+t._s(t.priceGroup.storePostageDiscount||0))])]):t._e(),t._v(" "),t.priceGroup.vipPrice?r("div",{staticClass:"total acea-row row-middle row-right"},[r("div",[t._v("会员折扣：")]),t._v(" "),r("div",{staticClass:"money"},[t._v("- ¥"+t._s(t.priceGroup.vipPrice||0))])]):t._e()]),t._v(" "),r("div",{staticClass:"totalAmount"},[t._v("\n      应付总额："),r("span",{staticClass:"money font-color"},[t._v("¥"+t._s(t.totalPrice))])]),t._v(" "),r("div",{staticClass:"bnt acea-row row-right"},[t.validCount>0?r("div",{staticClass:"submit bg-color",on:{click:t.SubOrder}},[t._v("\n        提交订单\n      ")]):r("div",{staticClass:"submit bg-color-hui"},[t._v("提交订单")])])]),t._v(" "),r("el-dialog",{attrs:{title:"添加收货地址",visible:t.dialogVisible,width:"700","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{staticClass:"form-box"},[r("div",{staticClass:"input-item",staticStyle:{width:"48%",display:"inline-block"}},[r("el-input",{attrs:{maxlength:"25",placeholder:"姓名"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),r("div",{staticClass:"input-item",staticStyle:{width:"48%",display:"inline-block","margin-left":"3%"}},[r("el-input",{attrs:{placeholder:"手机号"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),t._v(" "),r("div",{staticClass:"input-item text-wrapper"},[t.cityData.province.city_id?t._e():r("p",{on:{click:t.bindAdd}},[t._v("\n          请选择省/市/区/街道\n        ")]),t._v(" "),t.cityData.province.city_id?r("p",{staticStyle:{color:"#333"},on:{click:t.bindAdd}},[t.cityData.province.name?r("span",[t._v(t._s(t.cityData.province.name)+"/")]):t._e(),t._v(" "),t.cityData.city.name?r("span",[t._v(t._s(t.cityData.city.name)+"/")]):t._e(),t._v(" "),r("span",[t._v(t._s(t.cityData.district.name))])]):t._e(),t._v(" "),t.isShowSelect?r("div",{staticClass:"select-wrapper"},[t.cityData.province.city_id?t._e():r("div",{staticClass:"title-box"},[t._v("\n            选择省/自治区\n          ")]),t._v(" "),2==t.cityData.step?r("div",{staticClass:"title-box"},[r("span",[t._v(t._s(t.cityData.province.name))]),t._v("选择区县\n          ")]):t._e(),t._v(" "),3==t.cityData.step?r("div",{staticClass:"title-box"},[r("span",[t._v(t._s(t.cityData.province.name))]),t._v(" "),r("span",[t._v(t._s(t.cityData.city.name))]),t._v("请选择配送区域\n          ")]):t._e(),t._v(" "),r("div",{staticClass:"label-txt"},t._l(t.cityData.list,(function(e,o){return r("span",{key:o,class:{on:t.cityData.pid==e.city_id},on:{click:function(r){return t.bindCity(e)}}},[t._v(t._s(e.name))])})),0)]):t._e()]),t._v(" "),r("div",{staticClass:"input-item"},[r("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"详细地址"},model:{value:t.formData.con,callback:function(e){t.$set(t.formData,"con",e)},expression:"formData.con"}})],1),t._v(" "),r("div",{staticClass:"input-item"},[r("el-checkbox",{model:{value:t.formData.checked,callback:function(e){t.$set(t.formData,"checked",e)},expression:"formData.checked"}},[t._v("设为默认")])],1)]),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.bindSubmit}},[t._v("确 定")])],1)])],1)}),o,!1,null,"6ada7d7a",null);e.default=component.exports}}]);