(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{437:function(e,t,n){"use strict";t.a={data:function(){return{disabled:!1,text:"获取验证码"}},methods:{sendCode:function(){var e=this;if(!this.disabled){this.disabled=!0;var t=60;this.text="剩余 "+t+"s";var n=setInterval((function(){(t-=1)<0&&clearInterval(n),e.text="剩余 "+t+"s",e.text<"剩余 0s"&&(e.disabled=!1,e.text="重新获取")}),1e3)}}}}},438:function(e,t,n){var content=n(491);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("01ebaeea",content,!0,{sourceMap:!1})},490:function(e,t,n){"use strict";var r=n(438);n.n(r).a},491:function(e,t,n){var r=n(2),o=n(61),c=n(492);t=r(!1);var l=o(c);t.push([e.i,".login .header[data-v-9aaa7054]{height:110px}.login .header .icon[data-v-9aaa7054]{cursor:pointer;width:112px;height:40px}.login .header .icon img[data-v-9aaa7054]{width:100%;height:100%}.login .header .name[data-v-9aaa7054]{font-size:28px;margin-left:15px;cursor:pointer}.login .header .item[data-v-9aaa7054]{margin-left:40px;font-size:16px;color:#666}.login .header .item .iconfont[data-v-9aaa7054]{margin-right:6px;font-size:20px}.login .loginBg[data-v-9aaa7054]{width:100%;height:608px;background:url("+l+") no-repeat;background-size:100% 100%;position:relative}.login .loginBg .wxLogin[data-v-9aaa7054]{width:450px;height:427px;background:#fff;position:absolute;right:360px;top:91px;padding-top:34px}.login .loginBg .wxLogin .title[data-v-9aaa7054]{font-weight:400;font-size:20px;padding-left:30px;position:relative}.login .loginBg .wxLogin .title .iconfont[data-v-9aaa7054]{font-size:60px;position:absolute;right:0;top:-35px}.login .loginBg .wxLogin .wxCode[data-v-9aaa7054]{width:220px;margin:38px auto 0}.login .loginBg .wxLogin .wxCode .iconfont[data-v-9aaa7054]{font-size:30px;color:#cbcbcb}.login .loginBg .wxLogin .wxCode .iconfont.right[data-v-9aaa7054]{transform:rotateY(180deg)}.login .loginBg .wxLogin .wxCode .iconfont.bottomL[data-v-9aaa7054],.login .loginBg .wxLogin .wxCode .iconfont.bottomR[data-v-9aaa7054]{transform:rotateX(180deg)}.login .loginBg .wxLogin .wxCode .pictrue[data-v-9aaa7054]{width:190px;height:190px;margin:-15px auto}.login .loginBg .wxLogin .wxCode .pictrue img[data-v-9aaa7054]{width:100%;height:100%}.login .loginBg .wxLogin .tip[data-v-9aaa7054]{color:#666;font-size:16px;margin-top:20px;text-align:center}.login .loginBg .wrapper[data-v-9aaa7054]{width:450px;height:427px;background-color:#fff;position:absolute;top:91px;right:360px;text-align:center;padding:70px 0}.login .loginBg .wrapper .title[data-v-9aaa7054]{font-size:20px;font-weight:400;position:relative}.login .loginBg .wrapper .title .iconfont[data-v-9aaa7054]{position:absolute;top:-71px;right:0;font-size:60px;cursor:pointer}.login .loginBg .wrapper .item[data-v-9aaa7054]{width:358px;height:50px;border:1px solid #dbdbdb;margin:0 auto}.login .loginBg .wrapper .item.phone[data-v-9aaa7054]{margin-top:34px}.login .loginBg .wrapper .item.phone .number[data-v-9aaa7054]{width:65px;height:100%;line-height:50px;color:#666;border-right:1px solid #dbdbdb}.login .loginBg .wrapper .item.phone input[data-v-9aaa7054]{width:291px}.login .loginBg .wrapper .item.pwd[data-v-9aaa7054]{margin-top:20px}.login .loginBg .wrapper .item.pwd input[data-v-9aaa7054]{width:100%}.login .loginBg .wrapper .item.verificat[data-v-9aaa7054]{margin-top:20px}.login .loginBg .wrapper .item.verificat input[data-v-9aaa7054]{width:246px}.login .loginBg .wrapper .item.verificat .code[data-v-9aaa7054]{width:110px;height:100%;border:0;background-color:#fff;border-left:1px solid #dbdbdb}.login .loginBg .wrapper .item.verificat .code.on[data-v-9aaa7054]{color:#ccc!important}.login .loginBg .wrapper .item input[data-v-9aaa7054]{padding-left:15px;height:100%;border:0;outline:none}.login .loginBg .wrapper .signIn[data-v-9aaa7054]{width:358px;height:50px;text-align:center;line-height:50px;margin:24px auto 0;color:#fff;cursor:pointer}.login .loginBg .wrapper .fastLogin[data-v-9aaa7054]{margin-top:14px;cursor:pointer}.login .isAgree[data-v-9aaa7054]{width:358px;margin:12px auto 0;text-align:left}.login .isAgree .agree[data-v-9aaa7054]{margin-left:6px;color:#999;cursor:pointer}.login .isAgree .agree .agreement[data-v-9aaa7054]{color:#e93323}.login .footer[data-v-9aaa7054]{text-align:center;font-size:12px;color:#555;margin-top:100px}.login .footer .adress[data-v-9aaa7054]{margin-left:40px}.login .footer .record[data-v-9aaa7054]{margin-top:6px}.login .footer .record .num[data-v-9aaa7054]{margin-left:10px}.login .footer .record .num[data-v-9aaa7054]:hover{color:#e93323}",""]),e.exports=t},492:function(e,t,n){e.exports=n.p+"img/loginBg.b6c6dcd.jpg"},570:function(e,t,n){"use strict";n.r(t);n(80),n(38);var r=n(4),o={name:"login",auth:!1,mixins:[n(437).a],data:function(){return{current:1,account:"",password:"",captcha:"",keyCode:"",info:"",isShow:!0,appidNum:"",hosts:"",codes:"",fromPath:"",agreement:!1,userAgreement:!1,agreementCon1:"",agreementCon2:"",agreementCon:"",agreementTitle:""}},asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,r=e.query,t.next=3,n.$get("/verify_code");case 3:return o=t.sent,t.next=6,n.$get("/pc/get_company_info");case 6:return c=t.sent,t.next=9,n.$get("/pc/get_appid");case 9:return l=t.sent,t.next=12,n.$get("/get_agreement/4");case 12:return d=t.sent,t.next=15,n.$get("/get_agreement/3");case 15:return m=t.sent,t.abrupt("return",{keyCode:o.key,info:c,appidNum:l.appid,codes:r.code||"",agreementCon1:d.content,agreementCon2:m.content});case 17:case"end":return t.stop()}}),t)})))()},fetch:function(e){var t=e.store;t.commit("isHeader",!1),t.commit("isFooter",!1)},head:function(){return{title:this.$store.state.titleCon}},created:function(){this.$auth.loggedIn&&this.$router.push("/")},mounted:function(){window.addEventListener("keydown",this.keyDown),this.hosts=location.origin+location.pathname,this.fromPath=this.$cookies.get("fromPath"),this.codes&&this.loginCode()},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:{keyDown:function(e){13===e.keyCode&&(1===this.current?this.loginMobile():2===this.current&&this.loginH5())},ewmLogin:function(){if(!this.agreement)return this.$message.error("请确认阅读用户协议");window.location.href="https://open.weixin.qq.com/connect/qrconnect?appid=".concat(this.appidNum,"&redirect_uri=").concat(this.hosts,"&response_type=code&scope=snsapi_login&state=EqMkUDWh8F3euWlt23jHJ8ZJuaTAVPZyiKEoq5U0")},agreementTap:function(e){4==e?(this.agreementTitle="用户协议",this.agreementCon=this.agreementCon1):(this.agreementTitle="隐私协议",this.agreementCon=this.agreementCon2),this.userAgreement=!0},agreementClose:function(){this.userAgreement=!1,this.agreement=!0},goHome:function(){this.$router.push({path:"/"})},loginCode:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.next=3,n.$auth.loginWith("local3",{params:{code:e.codes}}).then((function(){if(n.isShow=!1,e.fromPath){var t=e.fromPath.split(n.$router.history.base).join("");n.$router.push(t)}else n.$router.push("/");n.$cookies.remove("fromPath")})).catch((function(e){}));case 3:case"end":return t.stop()}}),t)})))()},loginH5:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e).agreement){t.next=3;break}return t.abrupt("return",n.$message.error("请确认阅读用户协议"));case 3:if(n.account){t.next=5;break}return t.abrupt("return",n.$message.error("请填写手机号码"));case 5:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){t.next=7;break}return t.abrupt("return",n.$message.error("请输入正确的手机号码"));case 7:if(n.password){t.next=9;break}return t.abrupt("return",n.$message.error("请填写密码"));case 9:return r={account:n.account,password:n.password},t.next=12,n.$auth.loginWith("local1",{data:r}).then((function(){if(n.isShow=!1,e.fromPath){var t=e.fromPath.split(n.$router.history.base).join("");n.$router.push(t)}else n.$router.push("/");n.$cookies.remove("fromPath")})).catch((function(e){n.$message.error(e)}));case 12:case"end":return t.stop()}}),t)})))()},loginMobile:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e).agreement){t.next=3;break}return t.abrupt("return",n.$message.error("请确认阅读用户协议"));case 3:if(n.account){t.next=5;break}return t.abrupt("return",n.$message.error("请填写手机号码"));case 5:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){t.next=7;break}return t.abrupt("return",n.$message.error("请输入正确的手机号码"));case 7:if(n.captcha){t.next=9;break}return t.abrupt("return",n.$message.error("请填写验证码"));case 9:if(/^[\w\d]+$/i.test(n.captcha)){t.next=11;break}return t.abrupt("return",n.$message.error("请输入正确的验证码"));case 11:return r={phone:n.account,captcha:n.captcha},t.next=14,n.$auth.loginWith("local2",{data:r}).then((function(){if(n.isShow=!1,e.fromPath){var t=e.fromPath.split(n.$router.history.base).join("");n.$router.push(t)}else n.$router.push("/");n.$cookies.remove("fromPath")})).catch((function(e){n.$message.error("验证码错误")}));case 14:case"end":return t.stop()}}),t)})))()},code:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e).agreement){t.next=3;break}return t.abrupt("return",n.$message.error("请确认阅读用户协议"));case 3:if(n.account){t.next=5;break}return t.abrupt("return",n.$message.error("请填写手机号码"));case 5:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){t.next=7;break}return t.abrupt("return",n.$message.error("请输入正确的手机号码"));case 7:return t.next=9,e.$axios.post("/register/verify",{phone:n.account,type:"mobile",key:n.keyCode}).then((function(e){n.$message.success(e.msg),n.sendCode()})).catch((function(e){n.$message.error(e)}));case 9:case"end":return t.stop()}}),t)})))()}}},c=(n(490),n(13)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"wrapper_1200"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"header acea-row row-between-wrapper"},[n("div",{staticClass:"acea-row row-middle"},[n("div",{staticClass:"icon",on:{click:e.goHome}},[n("img",{attrs:{src:e.info.logoUrl}})]),e._v(" "),n("div",{staticClass:"name",on:{click:e.goHome}},[e._v("官方商城")])]),e._v(" "),e._m(0)])]),e._v(" "),n("div",{staticClass:"loginBg min_wrapper_1200"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.current,expression:"current === 1"}],staticClass:"wrapper"},[n("div",{staticClass:"title"},[e._v("\n        快速登录/注册\n        "),e._v(" "),e.appidNum?n("span",{staticClass:"iconfont icon-weixindenglu1",on:{click:e.ewmLogin}}):e._e()]),e._v(" "),n("div",{staticClass:"item phone acea-row row-middle"},[n("div",{staticClass:"number"},[e._v("+86")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"item verificat acea-row row-between-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.captcha},on:{input:function(t){t.target.composing||(e.captcha=t.target.value)}}}),e._v(" "),n("button",{staticClass:"code font-color",class:!0===e.disabled?"on":"",attrs:{disabled:e.disabled},on:{click:e.code}},[e._v("\n          "+e._s(e.text)+"\n        ")])]),e._v(" "),n("div",{staticClass:"isAgree"},[n("el-checkbox",{model:{value:e.agreement,callback:function(t){e.agreement=t},expression:"agreement"}}),n("span",{staticClass:"agree"},[e._v("我已阅读并同意"),n("span",{staticClass:"agreement",on:{click:function(t){return e.agreementTap(4)}}},[e._v("《用户协议》")]),e._v("和"),n("span",{staticClass:"agreement",on:{click:function(t){return e.agreementTap(3)}}},[e._v("《隐私协议》")])])],1),e._v(" "),n("div",{staticClass:"signIn bg-color",on:{click:e.loginMobile}},[e._v("登录/注册")]),e._v(" "),n("div",{staticClass:"fastLogin font-color",on:{click:function(t){e.current=2}}},[e._v("账号登录")])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.current,expression:"current === 2"}],staticClass:"wrapper"},[n("div",{staticClass:"title"},[e._v("\n        账号登录\n        "),e._v(" "),e.appidNum?n("span",{staticClass:"iconfont icon-weixindenglu1",on:{click:e.ewmLogin}}):e._e()]),e._v(" "),n("div",{staticClass:"item phone acea-row row-middle"},[n("div",{staticClass:"number"},[e._v("+86")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入手机号",maxlength:"11"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"item pwd"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"isAgree"},[n("el-checkbox",{model:{value:e.agreement,callback:function(t){e.agreement=t},expression:"agreement"}}),n("span",{staticClass:"agree"},[e._v("我已阅读并同意"),n("span",{staticClass:"agreement",on:{click:function(t){return e.agreementTap(4)}}},[e._v("《用户协议》")]),e._v("和"),n("span",{staticClass:"agreement",on:{click:function(t){return e.agreementTap(3)}}},[e._v("《隐私协议》")])])],1),e._v(" "),n("div",{staticClass:"signIn bg-color",on:{click:e.loginH5}},[e._v("登录")]),e._v(" "),n("div",{staticClass:"fastLogin font-color",on:{click:function(t){e.current=1}}},[e._v("\n        快速登录/注册\n      ")])])]),e._v(" "),n("div",{staticClass:"footer wrapper_1200"},[n("div",[n("span",[e._v("联系电话："+e._s(e.info.contact_number))]),e._v(" "),n("span",{staticClass:"adress"},[e._v("地址："+e._s(e.info.company_address))])]),e._v(" "),n("div",{staticClass:"record"},[e._v("\n      "+e._s(e.info.copyright)),n("a",{staticClass:"num",attrs:{href:"https://beian.miit.gov.cn/",target:"_blank"}},[e._v(e._s(e.info.record_No))])])]),e._v(" "),n("el-dialog",{staticClass:"detail-bd",attrs:{title:e.agreementTitle,visible:e.userAgreement,"show-close":!1,width:"900px",center:""},on:{"update:visible":function(t){e.userAgreement=t}}},[n("div",{staticClass:"userAgree",domProps:{innerHTML:e._s(e.agreementCon)}}),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.agreementClose}},[e._v("确 定")])],1)])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"acea-row row-middle"},[t("div",{staticClass:"item"},[t("span",{staticClass:"iconfont icon-pinzhongqiquan font-color"}),this._v("品种齐全\n        ")]),this._v(" "),t("div",{staticClass:"item"},[t("span",{staticClass:"iconfont icon-dijiachangxuan font-color"}),this._v("低价畅选\n        ")]),this._v(" "),t("div",{staticClass:"item"},[t("span",{staticClass:"iconfont icon-zhengpinhanghuo font-color"}),this._v("正品行货\n        ")])])}],!1,null,"9aaa7054",null);t.default=component.exports}}]);