(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{411:function(t,e,o){t.exports=o.p+"img/noGoods.348185d.png"},424:function(t,e,o){var content=o(474);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("65e5079c",content,!0,{sourceMap:!1})},473:function(t,e,o){"use strict";var r=o(424);o.n(r).a},474:function(t,e,o){(e=o(2)(!1)).push([t.i,'.goods_cate[data-v-0703d762]{margin-top:2px}.goods_cate .noGoods[data-v-0703d762]{text-align:center}.goods_cate .noGoods .pictrue[data-v-0703d762]{width:274px;height:174px;margin:130px auto 0}.goods_cate .noGoods .pictrue img[data-v-0703d762]{width:100%;height:100%}.goods_cate .noGoods .name[data-v-0703d762]{font-size:14px;color:#969696;margin-top:20px;margin-bottom:290px}.goods_cate .nav[data-v-0703d762]{width:100%;height:50px;cursor:pointer;margin-bottom:10px}.goods_cate .nav .navCon[data-v-0703d762]{height:100%}.goods_cate .nav .navCon.wrapper_1200[data-v-0703d762]{overflow:unset!important;background-color:#fff}.goods_cate .nav .navCon .moreCon[data-v-0703d762]{position:relative}.goods_cate .nav .navCon .moreCon .moreCategory[data-v-0703d762]{padding:44px 44px 16px;position:absolute;top:50px;right:0;width:1200px;background-color:#fff;box-shadow:0 3px 16px rgba(0,0,0,.06)}.goods_cate .nav .navCon .moreCon .moreCategory .item[data-v-0703d762]{margin:0 40px 28px 0}.goods_cate .nav .navCon .moreCon .moreCategory .item[data-v-0703d762]:hover{color:#e93323}.goods_cate .nav .navCon .list[data-v-0703d762]{height:100%;width:1050px;overflow:hidden;padding-left:35px}.goods_cate .nav .navCon .list .item[data-v-0703d762]{height:100%;line-height:50px;overflow:hidden}.goods_cate .nav .navCon .list .item~.item[data-v-0703d762]{margin-left:50px}.goods_cate .nav .navCon .list .item[data-v-0703d762]:hover{color:#e93323}.goods_cate .nav .navCon .list .item.font-color[data-v-0703d762]{border-bottom:2px solid #e93323}.goods_cate .nav .navCon .more[data-v-0703d762]{position:relative;height:100%;line-height:50px;width:132px;text-align:center}.goods_cate .nav .navCon .more[data-v-0703d762]:before{position:absolute;content:" ";left:0;top:50%;margin-top:-8px;width:1px;height:16px;background-color:#efefef}.goods_cate .nav .navCon .more.font-color[data-v-0703d762]{border-bottom:2px solid #e93323}.goods_cate .nav .navCon .more .iconfont[data-v-0703d762]{margin-right:6px}.goods_cate .title[data-v-0703d762]{color:#999;height:46px;line-height:46px}.goods_cate .title .home[data-v-0703d762]{color:#282828}.goods_cate .wrapper[data-v-0703d762]{background-color:#fff;padding:25px 17px;cursor:pointer}.goods_cate .wrapper .list[data-v-0703d762]{width:1100px;border-bottom:1px dotted #efefef;padding-bottom:10px}.goods_cate .wrapper .list .item[data-v-0703d762]{margin-right:30px;margin-bottom:10px}.goods_cate .wrapper .list .item[data-v-0703d762]:hover{color:#e93323}.goods_cate .wrapper .name[data-v-0703d762]{color:#969696;margin-right:20px}.goods_cate .wrapper .sort[data-v-0703d762]{margin-top:20px}.goods_cate .wrapper .sort .item[data-v-0703d762]{margin-right:30px}.goods_cate .wrapper .sort .item[data-v-0703d762]:hover{color:#e93323}.goods_cate .wrapper .sort .item .icon[data-v-0703d762]{font-size:15px;margin-left:5px}.goods_cate .wrapper .sort .item .iconfont[data-v-0703d762]{font-size:15px;color:#e2e2e2;margin-left:5px}.goods_cate .goods[data-v-0703d762]{width:1220px}.goods_cate .goods .item[data-v-0703d762]{background-color:#fff;padding:16px;width:224px;height:340px;margin:20px 20px 0 0;cursor:pointer}.goods_cate .goods .item[data-v-0703d762]:hover{box-shadow:0 3px 20px rgba(0,0,0,.06)}.goods_cate .goods .item .pictrue[data-v-0703d762]{width:192px;height:192px}.goods_cate .goods .item .pictrue img[data-v-0703d762]{width:100%;height:100%}.goods_cate .goods .item .money[data-v-0703d762]{margin-top:12px}.goods_cate .goods .item .money .font-color[data-v-0703d762]{font-weight:700;font-size:22px}.goods_cate .goods .item .money .y_money[data-v-0703d762]{font-size:12px;color:#aaa;text-decoration:line-through;margin-left:8px}.goods_cate .goods .item .money .label[data-v-0703d762]{width:20px;height:20px;background:linear-gradient(330deg,rgba(231,85,67,.15),rgba(244,103,83,.15));font-size:12px;text-align:center;line-height:20px}.goods_cate .goods .item .name[data-v-0703d762]{color:#5a5a5a;margin-top:8px;height:40px}.goods_cate .goods .item .bottom[data-v-0703d762]{font-size:12px;color:#aaa;margin-top:10px}',""]),t.exports=e},563:function(t,e,o){"use strict";o.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pictrue"},[e("img",{attrs:{src:o(411)}})])}],n=(o(25),o(10),o(49),o(27)),c=(o(38),o(4)),d={name:"goods_cate",auth:!1,data:function(){return{categoryList:[],categoryCurrent:[],current:0,moreCurrent:0,seen:!1,titleName:"",erCurrent:0,iSdefaults:0,productslist:[],pullRefreshss:!0,page:1,limit:10,scollY:null,pageTotal:0,title:"下拉加载更多",cid:0,sid:0,priceOrder:"",news:0}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var o,r,c,d,l,h,v,m,f,_,x,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.app,r=t.query,e.next=3,Promise.all([o.$axios.get("/category")]);case 3:return c=e.sent,d=Object(n.a)(c,1),l=d[0],(h=l.data).forEach((function(t){t.children.unshift({id:0,cate_name:"全部"})})),console.log(r),v=r.cidIndex?r.cidIndex:0,m=r.cid?r.cid:l.data.length?l.data[0].id:0,f=r.sid?r.sid:0,_=r.sidIndex?parseInt(r.sidIndex)+1:0,x=r.cid&&l.data.length?l.data[parseInt(v)].children:l.data.length?l.data[0].children:"",C=r.cid&&l.data.length?l.data[parseInt(v)].cate_name:l.data.length?l.data[0].cate_name:"",e.abrupt("return",{categoryList:h,categoryCurrent:x,titleName:C,cid:parseInt(m),sid:parseInt(f),current:parseInt(v),erCurrent:_,moreCurrent:parseInt(v)});case 11:case"end":return e.stop()}}),e)})))()},fetch:function(t){var e=t.store;e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"商品分类-"+this.$store.state.titleCon}},created:function(){this.getProductslist()},mounted:function(){this.pullRefresh()},beforeDestroy:function(){window.onscroll=null},methods:{goDetail:function(t){var path=path=t.presale?{path:"/goods_presell_detail",query:{id:t.id}}:{path:"/goods_detail/".concat(t.id)};this.$router.push(path)},getProductslist:function(){var t=this,e={page:this.page,limit:this.limit,cid:this.cid,sid:this.sid,priceOrder:this.priceOrder,news:this.news};t.$axios.get("/pc/get_products",{params:e}).then((function(e){t.pageTotal=e.data.count,t.productslist=t.productslist.concat(e.data.list)})).catch((function(e){t.$message.error(e)}))},pullRefresh:function(){var t=this;window.onscroll=function(){t.scrollChange()}},scrollChange:function(){if(this.scollY=this.comsys.getScrollTop()+this.comsys.getWindowHeight()-this.comsys.getScrollHeight(),this.scollY>=-50){if(this.page>Math.ceil(this.pageTotal/this.limit))return this.title="已没有更多数据",this.pullRefreshss=!0,!1;if(!this.pullRefreshss)return!1;this.pullRefreshss=!1,this.title="正在加载中....",this.page++,this.getProductslist()}else this.pullRefreshss=!0,this.title="下拉加载更多"},category:function(t){this.current=t,this.moreCurrent=t,this.categoryCurrent=this.categoryList[t].children,this.titleName=this.categoryList[t].cate_name,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.cid=this.categoryList[t].id,this.sid=0,this.erCurrent=0,this.priceOrder="",this.news=0,this.getProductslist()},enter:function(){this.current=-1,this.seen=!0},leave:function(){this.seen=!1,this.current=this.moreCurrent},moreItem:function(t){this.moreCurrent=t,this.categoryCurrent=this.categoryList[t].children,this.titleName=this.categoryList[t].cate_name,this.seen=!1,this.current=t,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.cid=this.categoryList[t].id,this.sid=0,this.erCurrent=0,this.priceOrder="",this.news=0,this.getProductslist()},erCategory:function(t,e){this.erCurrent=e,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.sid=t,this.priceOrder="",this.news=0,this.getProductslist()},defaults:function(){this.iSdefaults=0,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.news=0,this.priceOrder="",this.getProductslist()},priceSort:function(t){this.iSdefaults=1,this.productslist=[],this.pullRefreshss=!0,this.page=1,this.news=0,this.priceOrder=t,this.getProductslist()},timeNews:function(){this.iSdefaults=2,this.productslist=[],this.pullRefreshss=!0,this.priceOrder="",this.page=1,this.news=!0==!this.news?1:0,this.getProductslist()}}},l=(o(473),o(13)),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"goods_cate"},[o("div",{staticClass:"title wrapper_1200"},[o("nuxt-link",{staticClass:"home",attrs:{to:"/"}},[t._v("首页 > ")]),t._v(t._s(t.titleName)+"\n  ")],1),t._v(" "),o("div",{staticClass:"nav"},[o("div",{staticClass:"navCon wrapper_1200 acea-row row-between-wrapper"},[o("div",{staticClass:"list acea-row row-middle"},t._l(t.categoryList,(function(e,r){return o("div",{key:r,staticClass:"item",class:t.current===r?"font-color":"",on:{click:function(e){return t.category(r)}}},[t._v("\n          "+t._s(e.cate_name)+"\n        ")])})),0),t._v(" "),o("div",{staticClass:"moreCon",on:{mouseleave:function(e){return t.leave()}}},[o("div",{staticClass:"more",class:-1===t.current?"font-color":"",on:{mouseenter:t.enter}},[o("span",{staticClass:"iconfont icon-gengduofenlei"}),t._v("更多分类\n        ")]),t._v(" "),t.seen?o("div",{staticClass:"moreCategory acea-row row-middle"},t._l(t.categoryList,(function(e,r){return o("div",{key:r,staticClass:"item",class:t.moreCurrent===r?"font-color":"",on:{click:function(e){return t.moreItem(r)}}},[t._v("\n            "+t._s(e.cate_name)+"\n          ")])})),0):t._e()])])]),t._v(" "),o("div",{staticClass:"wrapper wrapper_1200"},[o("div",{staticClass:"acea-row"},[o("div",{staticClass:"name"},[t._v("分类：")]),t._v(" "),o("div",{staticClass:"list acea-row row-middle"},t._l(t.categoryCurrent,(function(e,r){return o("div",{key:r,staticClass:"item",class:t.erCurrent===r?"font-color":"",on:{click:function(o){return t.erCategory(e.id,r)}}},[t._v("\n          "+t._s(e.cate_name)+"\n        ")])})),0)]),t._v(" "),o("div",{staticClass:"sort acea-row"},[o("div",{staticClass:"name"},[t._v("排序：")]),t._v(" "),o("div",{staticClass:"acea-row row-middle"},[o("div",{staticClass:"item",class:0===t.iSdefaults?"font-color":"",on:{click:t.defaults}},[t._v("\n          默认\n        ")]),t._v(" "),"asc"===t.priceOrder?o("div",{staticClass:"item",class:1===t.iSdefaults?"font-color":"",on:{click:function(e){return t.priceSort("desc")}}},[t._v("\n          价格\n          "),o("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[o("use",{attrs:{"xlink:href":"#icon-jiageshaixuanshang"}})])]):""===t.priceOrder?o("div",{staticClass:"item",class:1===t.iSdefaults?"font-color":"",on:{click:function(e){return t.priceSort("asc")}}},[t._v("\n          价格\n          "),o("span",{staticClass:"iconfont icon-jiageshaixuan"})]):o("div",{staticClass:"item",class:1===t.iSdefaults?"font-color":"",on:{click:function(e){return t.priceSort("")}}},[t._v("\n          价格\n          "),o("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[o("use",{attrs:{"xlink:href":"#icon-jiageshaixuanxia"}})])]),t._v(" "),o("div",{staticClass:"item",class:2===t.iSdefaults?"font-color":"",on:{click:t.timeNews}},[t._v("\n          上架时间\n          "),o("span",{staticClass:"iconfont icon-shangjiashijian",class:t.news?"font-color":""})])])])]),t._v(" "),o("div",{staticClass:"wrapper_1200"},[t.productslist.length?o("div",{staticClass:"goods acea-row row-middle"},t._l(t.productslist,(function(e,r){return o("div",{key:r,staticClass:"item",on:{click:function(o){return t.goDetail(e)}}},[o("div",{staticClass:"pictrue"},[o("img",{attrs:{src:e.image}})]),t._v(" "),o("div",{staticClass:"money acea-row row-between-wrapper"},[o("div",[o("span",{staticClass:"font-color"},[t._v("¥"+t._s(e.price))]),o("span",{staticClass:"y_money"},[t._v("¥"+t._s(e.ot_price))])]),t._v(" "),e.checkCoupon?o("div",{staticClass:"label font-color"},[t._v("券")]):t._e()]),t._v(" "),o("div",{staticClass:"name line2"},[t._v(t._s(e.store_name))]),t._v(" "),o("div",{staticClass:"bottom acea-row row-between-wrapper"},[o("div",[t._v(t._s(e.sales)+"人付款")]),t._v(" "),o("div",[t._v(t._s(e.star)+"分")])])])})),0):t._e(),t._v(" "),t.productslist.length&&t.productslist.length>=t.limit?o("div",{staticClass:"loadingicon acea-row row-center-wrapper"},[t.pullRefreshss?t._e():o("span",{staticClass:"loading iconfont icon-jiazai"}),t._v(t._s(t.title)+"\n    ")]):t._e()]),t._v(" "),t.productslist.length?t._e():o("div",{staticClass:"noGoods"},[t._m(0),t._v(" "),o("div",{staticClass:"name"},[t._v("亲，该分类暂无商品哟~")])])])}),r,!1,null,"0703d762",null);e.default=component.exports}}]);