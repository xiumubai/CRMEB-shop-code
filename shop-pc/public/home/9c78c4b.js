(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{462:function(e,t,r){var content=r(545);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(3).default)("4072462b",content,!0,{sourceMap:!1})},543:function(e,t,r){e.exports=r.p+"img/phone.e56cff3.png"},544:function(e,t,r){"use strict";var o=r(462);r.n(o).a},545:function(e,t,r){(t=r(2)(!1)).push([e.i,".wxPay .header[data-v-deee9b1c]{color:#999;height:60px;line-height:60px}.wxPay .header .home[data-v-deee9b1c]{color:#282828}.wxPay .wrapper[data-v-deee9b1c]{padding:26px 30px;background-color:#fff}.wxPay .wrapper .title[data-v-deee9b1c]{margin-bottom:51px;font-size:20px}.wxPay .wrapper .title .amount[data-v-deee9b1c]{font-size:14px;color:#969696}.wxPay .wrapper .title .amount .num[data-v-deee9b1c]{font-size:22px;font-weight:700}.wxPay .wrapper .wx[data-v-deee9b1c]{width:310px}.wxPay .wrapper .wx .pictrue[data-v-deee9b1c]{width:100%;height:310px;border:1px solid #ccc}.wxPay .wrapper .wx .pictrue img[data-v-deee9b1c]{width:100%;height:100%}.wxPay .wrapper .wx .text[data-v-deee9b1c]{width:100%;height:72px;background-color:#eb5e4a;color:#fff;font-size:14px;margin-top:16px}.wxPay .wrapper .wx .text .iconfont[data-v-deee9b1c]{font-size:50px;margin-right:30px}.wxPay .wrapper .wx .text .tip[data-v-deee9b1c]{margin-top:4px}.wxPay .wrapper .phone[data-v-deee9b1c]{margin-left:144px;width:262px;height:399px}.wxPay .wrapper .phone img[data-v-deee9b1c]{width:100%;height:100%}.wxPay .wrapper .selectPay[data-v-deee9b1c]{font-size:16px;color:#236fe9;margin-top:68px;cursor:pointer}.wxPay .wrapper .selectPay .iconfont[data-v-deee9b1c]{margin-right:16px;font-size:15px}",""]),e.exports=t},588:function(e,t,r){"use strict";r.r(t);var o=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text acea-row row-center-wrapper"},[t("div",{staticClass:"iconfont icon-saoyisao"}),this._v(" "),t("div",[t("div",[this._v("请使用微信扫一扫")]),this._v(" "),t("div",{staticClass:"tip"},[this._v("扫描二维码支付")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"phone"},[t("img",{attrs:{src:r(543)}})])}],c=(r(26),{name:"wxPay",auth:"guest",data:function(){return{orderId:0,totalPrice:0,codeUrl:"",logo:"",invalid:0,endTime:"",timeName:null}},watch:{endTime:function(e){0===e&&clearInterval(this.timeName)}},fetch:function(e){var t=e.store;t.commit("isHeader",!0),t.commit("isFooter",!0)},head:function(){return{title:"微信支付-"+this.$store.state.titleCon}},created:function(){this.orderId=this.$route.query.orderId,this.totalPrice=this.$route.query.totalPrice,this.goWx()},mounted:function(){var e=this;this.timeName=setInterval((function(){setTimeout(e.wxSuccess(),0)}),2e3)},beforeDestroy:function(){clearInterval(this.timeName)},methods:{wxSuccess:function(){var e=this;e.$axios.get("/pc/check_order_status/"+e.orderId+"/"+e.invalid).then((function(t){e.endTime=t.data.time,t.data.status&&(clearInterval(e.timeName),e.$message.success("支付成功"),e.$store.commit("cartNum",0),e.getOrderCoupon(e.orderId),setTimeout((function(){e.$router.replace({path:"/order_detail",query:{orderId:e.orderId}})}),1e3))})).catch((function(t){e.$message.error(t),setTimeout((function(){e.$router.replace({path:"/"})}),1e3)}))},getOrderCoupon:function(e){this.$axios.post("/v2/order/product_coupon/"+e).then((function(e){}))},Return:function(){this.$router.go(-1)},goWx:function(){var e=this;e.$axios.post("/order/pay",{uni:e.orderId,paytype:"weixin",from:"pc"}).then((function(t){e.codeUrl=t.data.result.jsConfig.code_url,e.invalid=t.data.result.jsConfig.invalid})).catch((function(t){e.$message.error(t)}))}}}),n=(r(544),r(13)),component=Object(n.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wxPay wrapper_1200"},[r("div",{staticClass:"header"},[r("span",{staticClass:"home"},[e._v("首页 > 个人中心 > 确认订单 >")]),e._v(" 订单号："+e._s(e.orderId)+"\n  ")]),e._v(" "),r("div",{staticClass:"wrapper"},[r("div",{staticClass:"title acea-row row-between-wrapper"},[r("div",[e._v("微信支付")]),e._v(" "),r("div",{staticClass:"amount"},[e._v("应付金额："),r("span",{staticClass:"num font-color"},[e._v(e._s(e.totalPrice))]),e._v("元")])]),e._v(" "),r("div",{staticClass:"acea-row row-center-wrapper"},[r("div",{staticClass:"wx"},[r("div",{staticClass:"pictrue"},[r("client-only",[r("vue-qr",{staticClass:"bicode",attrs:{logoSrc:e.logo,text:e.codeUrl,size:310}})],1)],1),e._v(" "),e._m(0)]),e._v(" "),e._m(1)]),e._v(" "),r("div",{staticClass:"selectPay",on:{click:e.Return}},[r("span",{staticClass:"iconfont icon-fanhui"}),e._v("选择其他支付方式")])])])}),o,!1,null,"deee9b1c",null);t.default=component.exports}}]);