(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{407:function(t,e,r){var content=r(409);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(3).default)("3adb692e",content,!0,{sourceMap:!1})},408:function(t,e,r){"use strict";var n=r(407);r.n(n).a},409:function(t,e,r){(e=r(2)(!1)).push([t.i,".time[data-v-07fe60a7]{display:flex;justify-content:center}",""]),t.exports=e},410:function(t,e,r){"use strict";r(222);var n={name:"countDown",props:{justifyLeft:{type:String,default:""},tipText:{type:String,default:"倒计时"},dayText:{type:String,default:"天"},hourText:{type:String,default:"时"},minuteText:{type:String,default:"分"},secondText:{type:String,default:"秒"},datatime:{type:Number,default:0},isDay:{type:Boolean,default:!0}},data:function(){return{day:"00",hour:"00",minute:"00",second:"00"}},created:function(){this.show_time()},mounted:function(){},methods:{show_time:function(){var t=this;function e(){var e=t.datatime-Date.parse(new Date)/1e3,r=0,n=0,o=0,d=0;e>0?(r=!0===t.isDay?Math.floor(e/86400):0,n=Math.floor(e/3600)-24*r,o=Math.floor(e/60)-24*r*60-60*n,d=Math.floor(e)-24*r*60*60-60*n*60-60*o,n<=9&&(n="0"+n),o<=9&&(o="0"+o),d<=9&&(d="0"+d),t.day=r,t.hour=n,t.minute=o,t.second=d):(t.day="00",t.hour="00",t.minute="00",t.second="00")}e(),setInterval(e,1e3)}}},o=(r(408),r(13)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"time acea-row row-middle",style:t.justifyLeft},[t.tipText?r("span",{staticClass:"red"},[t._v(t._s(t.tipText))]):t._e(),t._v(" "),!0===t.isDay?r("span",{staticClass:"styleAll"},[t._v(t._s(t.day))]):t._e(),t._v(" "),t.dayText?r("span",{staticClass:"timeTxt red"},[t._v(t._s(t.dayText))]):t._e(),t._v(" "),r("span",{staticClass:"styleAll"},[t._v(t._s(t.hour))]),t._v(" "),t.hourText?r("span",{staticClass:"timeTxt red"},[t._v(t._s(t.hourText))]):t._e(),t._v(" "),r("span",{staticClass:"styleAll"},[t._v(t._s(t.minute))]),t._v(" "),t.minuteText?r("span",{staticClass:"timeTxt red"},[t._v(t._s(t.minuteText))]):t._e(),t._v(" "),r("span",{staticClass:"styleAll"},[t._v(t._s(t.second))]),t._v(" "),t.secondText?r("span",{staticClass:"timeTxt red"},[t._v(t._s(t.secondText))]):t._e()])}),[],!1,null,"07fe60a7",null);e.a=component.exports},443:function(t,e,r){var content=r(504);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(3).default)("352d98c1",content,!0,{sourceMap:!1})},503:function(t,e,r){"use strict";var n=r(443);r.n(n).a},504:function(t,e,r){var n=r(2),o=r(61),d=r(505);e=n(!1);var c=o(d);e.push([t.i,".payment .header[data-v-727ded74]{margin-top:21px;color:#999}.payment .header .home[data-v-727ded74]{color:#282828}.payment .orderTip[data-v-727ded74]{padding:55px 30px 31px;font-size:32px;color:#fff;width:1200px;height:159px;background:url("+c+") no-repeat;background-size:100% 100%}.payment .orderTip .times[data-v-727ded74]{font-size:14px;margin-top:12px}.payment .detail[data-v-727ded74]{width:100%;height:182px;background-color:#fff;padding:31px 30px}.payment .detail .item[data-v-727ded74]{font-size:16px}.payment .detail .item~.item[data-v-727ded74]{margin-top:12px}.payment .payType[data-v-727ded74]{width:100%;height:387px;background-color:#fff;margin-top:17px}.payment .payType .title[data-v-727ded74]{height:57px;padding:0 30px;border-bottom:1px dotted #cecece;line-height:57px;font-size:18px}.payment .payType .type[data-v-727ded74]{padding:22px 50px 55px 30px}.payment .payType .type .item[data-v-727ded74]{width:210px;height:86px;border:1px solid #d4d4d4;position:relative;cursor:pointer}.payment .payType .type .item~.item[data-v-727ded74]{margin-left:20px}.payment .payType .type .item.on[data-v-727ded74]{border-color:#e93323}.payment .payType .type .item .iconfont[data-v-727ded74]{color:#09bb07;font-size:29px;margin-right:11px}.payment .payType .type .item .iconfont.icon-yue[data-v-727ded74]{font-size:32px;color:#fe9c01}.payment .payType .type .item .icon-xuanzhong4[data-v-727ded74]{position:absolute;right:-4px;bottom:-4px;margin:0!important}.payment .payType .type .item .name[data-v-727ded74]{font-size:16px;color:#4e4e4e}.payment .payType .type .item .yue[data-v-727ded74]{font-size:14px;color:#969696;margin-top:6px}.payment .payType .goPay[data-v-727ded74]{margin:80px 50px 0 0}.payment .payType .goPay .bnt[data-v-727ded74]{width:180px;height:46px;font-size:16px;color:#fff;border-radius:4px;text-align:center;line-height:46px;cursor:pointer}.payment .payType .icon-zhifubao[data-v-727ded74]:before{color:#00aaea}",""]),t.exports=e},505:function(t,e,r){t.exports=r.p+"img/orderBg.6839449.png"},575:function(t,e,r){"use strict";r.r(e);r(25),r(10),r(49);var n=r(27),o=(r(38),r(4)),d={name:"payment",auth:"guest",components:{countDown:r(410).a},data:function(){return{orderId:0,orderDetail:{cartInfo:[]},current:0,userInfo:{}}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,d,c,l,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.app,o=t.query,e.next=3,Promise.all([r.$axios.get("/order/detail/"+o.result),r.$axios.get("/user")]);case 3:return d=e.sent,c=Object(n.a)(d,2),l=c[0],v=c[1],e.abrupt("return",{orderId:o.result,orderDetail:l.data,userInfo:v.data});case 8:case"end":return e.stop()}}),e)})))()},fetch:function(t){var e=t.store;e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"支付-"+this.$store.state.titleCon}},created:function(){},mounted:function(){},methods:{currentPay:function(t){this.current=t,1!==t&&2!==t||this.$router.push({path:1===t?"/wxPay":"/aliPay",query:{orderId:this.orderId,totalPrice:this.orderDetail.pay_price}})},goPay:function(){var t=this;if(0===this.current&&parseFloat(t.userInfo.now_money)<parseFloat(t.orderDetail.pay_price))return t.$message.error("余额不足");t.$axios.post("/order/pay",{uni:t.orderId,paytype:"yue",from:"pc"}).then((function(e){t.$message.success(e.msg),t.$store.commit("cartNum",0),t.getOrderCoupon(t.orderId),setTimeout((function(){t.$router.push({path:"/order_detail",query:{orderId:t.orderId}})}),1e3)})).catch((function(e){t.$message.error(e),setTimeout((function(){t.$router.push({path:"/"})}),1e3)}))},getOrderCoupon:function(t){this.$axios.post("/v2/order/product_coupon/"+t).then((function(t){}))}}},c=(r(503),r(13)),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"payment wrapper_1200"},[t._m(0),t._v(" "),r("div",{staticClass:"orderTip"},[r("div",[t._v("订单提交成功！去付款咯~")]),t._v(" "),r("div",{staticClass:"times acea-row row-middle"},[r("div",[t._v("剩余时间：")]),t._v(" "),r("countDown",{attrs:{"is-day":!1,"tip-text":" ","day-text":" ","hour-text":" 小时 ","minute-text":" 分钟 ","second-text":"秒 ",datatime:t.orderDetail.stop_time}})],1)]),t._v(" "),r("div",{staticClass:"detail"},[r("div",{staticClass:"item"},[t._v("订单编号："+t._s(t.orderId))]),t._v(" "),r("div",{staticClass:"item"},[t._v("\n      订单价格："),r("span",[t._v(t._s(t.orderDetail.pay_price)+"元")])]),t._v(" "),r("div",{staticClass:"item line1"},[t._v("\n      收货信息："+t._s(t.orderDetail.real_name)+" "+t._s(t.orderDetail.user_phone)+"\n      "+t._s(t.orderDetail.user_address)+"\n    ")]),t._v(" "),r("div",{staticClass:"item line1"},[t._v("\n      商品名称："+t._s(t.orderDetail.cartInfo.length?t.orderDetail.cartInfo[0].productInfo.store_name:"")+"\n    ")])]),t._v(" "),r("div",{staticClass:"payType"},[r("div",{staticClass:"title"},[t._v("选择以下支付方式")]),t._v(" "),r("div",{staticClass:"type acea-row row-middle"},[r("div",{staticClass:"item acea-row row-center-wrapper",class:0===t.current?"on":"",on:{click:function(e){return t.currentPay(0)}}},[r("div",{staticClass:"iconfont icon-yue"}),t._v(" "),r("div",[r("div",{staticClass:"name"},[t._v("余额支付")]),t._v(" "),r("div",{staticClass:"yue"},[t._v("余额："+t._s(t.userInfo.now_money))])]),t._v(" "),0===t.current?r("div",{staticClass:"iconfont icon-xuanzhong4 font-color"}):t._e()]),t._v(" "),r("div",{staticClass:"item acea-row row-center-wrapper",class:1===t.current?"on":"",on:{click:function(e){return t.currentPay(1)}}},[r("div",{staticClass:"iconfont icon-weixinzhifu1"}),t._v(" "),t._m(1),t._v(" "),1===t.current?r("div",{staticClass:"iconfont icon-xuanzhong4 font-color"}):t._e()]),t._v(" "),t.orderDetail.ali_pay_status?r("div",{staticClass:"item acea-row row-center-wrapper",class:2===t.current?"on":"",on:{click:function(e){return t.currentPay(2)}}},[r("div",{staticClass:"iconfont icon-zhifubao"}),t._v(" "),t._m(2),t._v(" "),2===t.current?r("div",{staticClass:"iconfont icon-xuanzhong4 font-color"}):t._e()]):t._e()]),t._v(" "),r("div",{staticClass:"goPay acea-row row-right"},[r("div",{staticClass:"bnt bg-color",on:{click:t.goPay}},[t._v("去支付")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("span",{staticClass:"home"},[this._v("首页 > 个人中心 >")]),this._v("确认订单\n  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"name"},[this._v("微信支付")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"name"},[this._v("支付宝支付")])])}],!1,null,"727ded74",null);e.default=component.exports}}]);