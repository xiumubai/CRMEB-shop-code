(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{413:function(t,o,e){var content=e(460);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(3).default)("25cd32af",content,!0,{sourceMap:!1})},420:function(t,o,e){t.exports=e.p+"img/noCoupou.b544dbd.png"},455:function(t,o,e){t.exports=e.p+"img/coupon-back1.ff642c7.png"},456:function(t,o,e){t.exports=e.p+"img/vipCouB.48d8f48.png"},457:function(t,o,e){t.exports=e.p+"img/coupon-back2.a3364a6.png"},459:function(t,o,e){"use strict";var n=e(413);e.n(n).a},460:function(t,o,e){(o=e(2)(!1)).push([t.i,".vipSwrapp[data-v-53a17f98]{width:226px;height:236px;background-color:#fff;box-shadow:0 2px 20px rgba(0,0,0,.08);border-radius:16px;position:fixed;top:250px;left:50%;margin-left:-123px}.vipSwrapp .tip[data-v-53a17f98]{text-align:center;margin-top:10px;color:#282828;font-weight:400;margin-left:0;font-size:16px}.vipSwrapp .iconfont[data-v-53a17f98]{font-size:20px;color:#ccc;padding-right:14px;padding-top:14px}.vipSwrapp .code[data-v-53a17f98]{width:148px;height:148px;margin:6px auto 0}.vipSwrapp .code img[data-v-53a17f98]{width:100%;height:100%}",""]),t.exports=o},461:function(t,o,e){var content=e(541);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(3).default)("0ffe86e6",content,!0,{sourceMap:!1})},466:function(t,o,e){"use strict";var n={name:"ffVip",props:{showCode:{type:Boolean,default:!1}},data:function(){return{imgUrl:""}},created:function(){this.gainCount()},mounted:function(){},methods:{closeVip:function(){this.$emit("changeVip",!1)},gainCount:function(){var t=this;this.$axios.get("/pc/get_pay_vip_code").then((function(o){t.imgUrl=o.data.url}))}}},c=(e(459),e(13)),component=Object(c.a)(n,(function(){var t=this.$createElement,o=this._self._c||t;return this.showCode?o("div",{staticClass:"vipSwrapp"},[o("div",{staticClass:"close acea-row row-right"},[o("span",{staticClass:"iconfont icon-guanbi",on:{click:this.closeVip}})]),this._v(" "),o("div",{staticClass:"code"},[o("img",{attrs:{src:this.imgUrl}})]),this._v(" "),o("div",{staticClass:"tip"},[this._v("扫码激活付费会员")])]):this._e()}),[],!1,null,"53a17f98",null);o.a=component.exports},540:function(t,o,e){"use strict";var n=e(461);e.n(n).a},541:function(t,o,e){var n=e(2),c=e(61),r=e(455),d=e(456),l=e(542),v=e(457);o=n(!1);var f=c(r),m=c(d),h=c(l),x=c(v);o.push([t.i,".user-coupon .main-section[data-v-028aa07c]{flex:1;margin-left:8px;background-color:#fff}.user-coupon .main-hd[data-v-028aa07c]{height:60px;border-bottom:1px solid #ececec;font-size:18px;color:#282828}.user-coupon .main-bd[data-v-028aa07c]{padding-top:30px;padding-bottom:15px}.user-coupon .user[data-v-028aa07c]{width:180px;height:170px;background-color:#fff}.user-coupon .user .image[data-v-028aa07c]{width:52px;height:52px;border-radius:50%;margin-bottom:13px;overflow:hidden;font-size:14px;color:#282828}.user-coupon .user .img[data-v-028aa07c]{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.user-coupon .user .name[data-v-028aa07c]{max-width:90%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.user-coupon .menu[data-v-028aa07c]{padding-top:38px;padding-bottom:38px;margin-top:8px;background-color:#fff}.user-coupon .menu .item[data-v-028aa07c]{height:25px;border-left:3px solid transparent;font-size:14px;line-height:25px;text-align:center;color:#666;cursor:pointer}.user-coupon .menu .item.on[data-v-028aa07c]{border-color:#e93323;color:#e93323}.user-coupon .list .item[data-v-028aa07c]{width:300px;height:130px;margin-right:15px;margin-bottom:15px;background:url("+f+") 50%/cover no-repeat;box-shadow:0 3px 20px rgba(0,0,0,.08)}.user-coupon .list .item.svip[data-v-028aa07c]{background-image:url("+m+")}.user-coupon .list .item.svip.disabledVip[data-v-028aa07c]{background-image:url("+h+")}.user-coupon .list .item.svip.disabledVip .label[data-v-028aa07c]{background-color:hsla(0,0%,56.9%,.1);color:#acacac}.user-coupon .list .item.svip.disabledVip .text-cont[data-v-028aa07c]{color:#d0d0d0}.user-coupon .list .item.svip.disabledVip .money[data-v-028aa07c],.user-coupon .list .item.svip.disabledVip .name[data-v-028aa07c]{color:#bfbfbf}.user-coupon .list .item.svip.disabledVip .time[data-v-028aa07c]{color:#d0d0d0}.user-coupon .list .item.svip.disabledVip .btn[data-v-028aa07c]{color:#fff}.user-coupon .list .item.svip .label[data-v-028aa07c]{background-color:#fee2b6;color:#863c0d}.user-coupon .list .item.svip .btn[data-v-028aa07c],.user-coupon .list .item.svip .money[data-v-028aa07c]{color:#863c0d}.user-coupon .list .item.disabled[data-v-028aa07c]{background-image:url("+x+")}.user-coupon .list .item.disabled .label[data-v-028aa07c]{background-color:hsla(0,0%,56.9%,.1);color:#acacac}.user-coupon .list .item.disabled .text-cont[data-v-028aa07c]{color:#d0d0d0}.user-coupon .list .item.disabled .money[data-v-028aa07c],.user-coupon .list .item.disabled .name[data-v-028aa07c]{color:#bfbfbf}.user-coupon .list .item.disabled .time[data-v-028aa07c]{color:#d0d0d0}.user-coupon .list .item .text[data-v-028aa07c]{flex:1;padding-left:14px}.user-coupon .list .item .text-cont[data-v-028aa07c]{margin-top:14px;font-size:14px;color:#969696}.user-coupon .list .item .label[data-v-028aa07c]{width:62px;height:24px;background-color:rgba(233,51,35,.1);font-size:14px;line-height:24px;text-align:center;color:#e93323}.user-coupon .list .item .money[data-v-028aa07c]{margin-right:14px;font-size:16px;color:#e93323}.user-coupon .list .item .money .num[data-v-028aa07c]{font-weight:700;font-size:32px}.user-coupon .list .item .info[data-v-028aa07c]{flex:1;min-width:0}.user-coupon .list .item .name[data-v-028aa07c]{margin-bottom:6px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:16px;color:#282828;width:140px;display:inline-block}.user-coupon .list .item .time[data-v-028aa07c]{margin-top:14px;font-size:12px;color:#969696}.user-coupon .list .item .btn[data-v-028aa07c]{width:52px;padding-right:18px;padding-left:18px;font-size:16px;color:#fff;cursor:pointer}",""]),t.exports=o},542:function(t,o,e){t.exports=e.p+"img/vipCouB02.4df57ed.png"},587:function(t,o,e){"use strict";e.r(o);e(221),e(6);var n=e(107),c=e.n(n),r=(e(38),e(4)),d={auth:"guest",components:{ffVip:e(466).a},props:{},data:function(){return{moneyLevel:-1,showCode:!1,couponList:[]}},fetch:function(t){var o=t.store;o.commit("isHeader",!0),o.commit("isFooter",!0)},head:function(){return{title:"领取优惠券-"+this.$store.state.titleCon}},computed:{},watch:{},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t.app;case 1:case"end":return o.stop()}}),o)})))()},created:function(){this.getCouponList()},mounted:function(){this.$auth.loggedIn?this.moneyLevel=this.$auth.user.is_money_level:this.moneyLevel=-1,this.$nextTick((function(){}))},methods:{changeVip:function(t){this.showCode=t},getCoupon:function(t,o){var e=this,n=e.couponList;e.$axios.post("/coupon/receive",{couponId:t}).then((function(t){n[o].is_use=!0,e.$set(e,"couponList",n),c.a.success("领取成功")})).catch((function(t){c.a.error(t)}))},getCouponList:function(){var t=this;this.$axios.get("coupons").then((function(o){t.couponList=o.data})).catch((function(t){c.a.success(t)}))}}},l=(e(540),e(13)),component=Object(l.a)(d,(function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"user-coupon"},[n("div",{staticClass:"main-section"},[n("div",{staticClass:"main-hd acea-row row-middle"},[t._v("领取优惠券")]),t._v(" "),n("div",{staticClass:"main-bd"},[n("div",{staticClass:"list acea-row"},t._l(t.couponList,(function(o,e){return n("div",{key:e,staticClass:"item acea-row",class:[4==o.receive_type?"svip":"",o.is_use&&4!=o.receive_type?"disabled":"",o.is_use&&4==o.receive_type?"disabledVip":""]},[n("div",{staticClass:"text"},[0===o.type?n("div",{staticClass:"label"},[t._v("通用券")]):1===o.type?n("div",{staticClass:"label"},[t._v("品类券")]):2===o.type?n("div",{staticClass:"label"},[t._v("商品券")]):t._e(),t._v(" "),n("div",{staticClass:"text-cont acea-row row-middle"},[n("div",{staticClass:"money"},[t._v("\n                ￥"),n("span",{staticClass:"num"},[t._v(t._s(o.coupon_price))])]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[t._v(t._s(o.coupon_title))]),t._v(" "),n("div",[t._v("满"+t._s(o.use_min_price)+"可用")])])]),t._v(" "),o.start_time?n("div",{staticClass:"time"},[t._v("\n              有效时间："+t._s(o.start_time)+"-"+t._s(o.end_time)+"\n            ")]):n("div",{staticClass:"time"},[t._v("不限时")])]),t._v(" "),!0===o.is_use?n("div",{staticClass:"btn acea-row row-middle"},[t._v("\n            已领取\n          ")]):2===o.is_use?n("div",{staticClass:"btn acea-row row-middle"},[t._v("\n            已领完\n          ")]):n("div",{staticClass:"acea-row row-middle"},[4!=o.receive_type?n("div",{staticClass:"btn acea-row row-middle",on:{click:function(n){return t.getCoupon(o.id,e)}}},[t._v("\n              立即领取\n            ")]):t._e(),t._v(" "),0!==t.moneyLevel&&4==o.receive_type?n("div",{staticClass:"btn acea-row row-middle",on:{click:function(n){return t.getCoupon(o.id,e)}}},[t._v("\n              立即领取\n            ")]):t._e(),t._v(" "),0===t.moneyLevel&&4==o.receive_type?n("div",{staticClass:"btn acea-row row-middle",on:{click:function(o){t.showCode=!0}}},[t._v("\n              立即领取\n            ")]):t._e()])])})),0),t._v(" "),0==t.couponList.length?n("div",{staticClass:"empty-box"},[n("img",{attrs:{src:e(420),alt:""}}),t._v(" "),n("p",[t._v("亲，暂无可领取的优惠券哟~")])]):t._e()])]),t._v(" "),n("ffVip",{attrs:{showCode:t.showCode},on:{changeVip:t.changeVip}})],1)}),[],!1,null,"028aa07c",null);o.default=component.exports}}]);